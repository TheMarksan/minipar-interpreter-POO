<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MiniPar Interpreter 2025.1</title>
      <link rel="stylesheet" href="home.css?v=2025.11.01.1732">
  <!-- CodeMirror (para destacar sintaxe) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/dracula.min.css">
</head>
<body>
  <div class="app">
    <header>
      <div class="title">
        <div class="logo">IC</div>
        <div>
          <h1>MiniPar Interpreter 2025.1</h1>
            <p class="lead">Cole c√≥digo no editor (ou use o exemplo). Veja Lexing &amp; An√°lise Sem√¢ntica abaixo.</p>
        </div>
      </div>
      <div class="meta info-box">Feito para integrar com seu backend de compilador ‚Ä¢ <span class="kbd">CTRL+ENTER</span> para executar</div>
      <div id="wsStatus" class="ws-status" title="Status da conex√£o WebSocket">
        <span class="ws-indicator"></span>
        <span class="ws-text">Conectando...</span>
      </div>
    </header>

    <section class="card editor">
      <div class="toolbar">
        <button class="btn primary" id="runBtn">‚ñ∂  Executar</button>
        <button class="btn" id="clearBtn">Limpar</button>
        <select id="exampleSel" class="btn" title="Carregar exemplo" style="min-width:220px" size="1">
          <option value="">‚Äî Exemplos r√°pidos ‚Äî</option>
          
          <optgroup label="üìù B√°sico">
            <option value="Hello World">Hello World</option>
            <option value="Vari√°veis e Tipos">Vari√°veis e Tipos</option>
            <option value="Print & Opera√ß√µes Aritm√©ticas">Print & Opera√ß√µes Aritm√©ticas</option>
          </optgroup>
          
          <optgroup label="üîÄ Controle de Fluxo">
            <option value="If-Else">If-Else</option>
            <option value="Variables & If">Vari√°veis & If</option>
            <option value="Switch Case (m√∫ltiplos If)">Switch Case (m√∫ltiplos If)</option>
          </optgroup>
          
          <optgroup label="üîÅ Loops">
            <option value="For Loop">For Loop</option>
            <option value="While Loop">While Loop</option>
            <option value="Loops & Functions">Loops & Fun√ß√µes</option>
            <option value="Loop Aninhado (matriz)">Loop Aninhado (matriz)</option>
          </optgroup>
          
          <optgroup label="üîß Fun√ß√µes">
            <option value="Fun√ß√£o Simples">Fun√ß√£o Simples</option>
            <option value="Fun√ß√£o Recursiva (Fibonacci)">Fun√ß√£o Recursiva (Fibonacci)</option>
            <option value="M√∫ltiplas Fun√ß√µes">M√∫ltiplas Fun√ß√µes</option>
          </optgroup>
          
          <optgroup label="üìö Arrays">
            <option value="Array B√°sico">Array B√°sico</option>
            <option value="Array Multidimensional">Array 2D (Matriz)</option>
            <option value="Quicksort (arrays/POO)">Quicksort (Arrays & POO)</option>
          </optgroup>
          
          <optgroup label="üèõÔ∏è POO - Classes">
            <option value="Classe Simples">Classe Simples</option>
            <option value="Neuronio (POO)">Neur√¥nio (POO)</option>
            <option value="Heran√ßa (extends)">Heran√ßa (extends)</option>
            <option value="Sistema Recomenda√ß√£o">Sistema de Recomenda√ß√£o (POO)</option>
          </optgroup>
          
          <optgroup label="üßµ Threads & Paralelismo">
            <option value="Hello World (threads)">Hello World (Threads)</option>
            <option value="Threads - cliente/servidor (programa2)">Cliente/Servidor (programa2)</option>
            <option value="PAR Block">PAR Block</option>
          </optgroup>
          
          <optgroup label="üì° Canais">
            <option value="Channels Send/Receive">Send/Receive B√°sico</option>
            <option value="Canal com Loop">Canal com Loop</option>
            <option value="M√∫ltiplos Canais">M√∫ltiplos Canais</option>
          </optgroup>
          
          <optgroup label="üéØ Strings">
            <option value="String B√°sico">String B√°sico</option>
            <option value="Fun√ß√µes String (strlen, substr)">Fun√ß√µes String (strlen, substr)</option>
          </optgroup>
          
          <optgroup label="‚å®Ô∏è Input (Entrada)">
            <option value="Input B√°sico">Input B√°sico</option>
            <option value="Input com C√°lculo">Input com C√°lculo</option>
            <option value="Input em Loop">Input em Loop</option>
          </optgroup>
        </select>
        <button class="btn ghost" id="sampleBtn">Carregar</button>
        <div style="flex:1"></div>
        <label class="meta">Tema:</label>
        <select id="themeSel" class="btn" style="padding:6px 10px">
          <option value="dark">Escuro</option>
          <option value="light">Claro</option>
        </select>
      </div>

      <div class="split">
        <div class="codewrap">
          <div class="gutter" id="gutter">1</div>
          <textarea id="code" class="code" spellcheck="false" placeholder="Escreva seu c√≥digo aqui..." aria-label="Editor de c√≥digo" autofocus></textarea>
        </div>

        <div style="display:flex;align-items:center;justify-content:space-between">
          <div class="meta">Editor simples com n√∫meros de linha fict√≠cios</div>
          <div class="meta">Sa√≠da: <span id="status" class="ok">Pronto</span></div>
        </div>
      </div>
    </section>

    <aside class="right">
      <div class="panel" id="panel-exec">
        <div class="hdr">
          <strong>Sa√≠da: EXECU√á√ÉO</strong>
          <div style="display:flex;gap:12px;align-items:center">
            <div class="meta">Console / sa√≠da do programa</div>
            <button class="toggle" data-target="execOutput" title="Minimizar/Expandir">‚ñæ</button>
          </div>
        </div>
        <div id="execOutput" class="output" aria-live="polite">Sa√≠da de execu√ß√£o ser√° exibida aqui (se o backend suportar). </div>
      </div>

      <div class="panel" id="panel-lex">
        <div class="hdr">
          <strong>Interpreta√ß√£o L√âXICA</strong>
          <div style="display:flex;align-items:center;gap:12px">
            <div class="meta">Tokens detectados: <span id="tokCount">0</span></div>
            <button class="toggle" data-target="lexOutput" title="Minimizar/Expandir">‚ñæ</button>
          </div>
        </div>
        <div id="lexOutput" class="output" aria-live="polite">Cole c√≥digo e clique em Executar para ver os tokens.</div>
      </div>

      <div class="panel" id="panel-sem">
        <div class="hdr">
          <strong>An√°lise SEM√ÇNTICA</strong>
          <div style="display:flex;align-items:center;gap:12px">
            <div class="meta">Mensagens e avisos</div>
            <button class="toggle" data-target="semOutput" title="Minimizar/Expandir">‚ñæ</button>
          </div>
        </div>
        <div id="semOutput" class="output">Nenhuma verifica√ß√£o executada.</div>
      </div>
      <div class="panel" id="panel-tac">
        <div class="hdr">
          <strong>C√≥digo de 3-endere√ßos (TAC)</strong>
          <div style="display:flex;align-items:center;gap:12px">
            <div class="meta">Representa√ß√£o intermedi√°ria (Three-Address Code)</div>
            <button class="toggle" data-target="tacOutput" title="Minimizar/Expandir">‚ñæ</button>
          </div>
        </div>
        <div id="tacOutput" class="output">TAC n√£o dispon√≠vel. (O backend precisa expor um campo "tac" no JSON)</div>
      </div>

      <div class="panel">
        <div class="hdr">
          <strong>√Årvore Sint√°tica (AST)</strong>
          <div style="display:flex;align-items:center;gap:12px">
            <div class="meta">Representa√ß√£o da estrutura do c√≥digo</div>
            <button class="btn-ast-view" id="astViewToggle" title="Alternar visualiza√ß√£o">
              <span class="view-icon">üìä</span>
              <span class="view-label">√Årvore</span>
            </button>
            <button class="btn-ast-expand" id="astExpandBtn" title="Ampliar AST em modal">
              <span class="expand-icon">‚õ∂</span>
            </button>
            <button class="toggle" data-target="astOutput" title="Minimizar/Expandir">‚ñæ</button>
          </div>
        </div>
        <div id="astOutput" class="output">AST ainda n√£o gerada.</div>
      </div>

      <div class="panel">
        <div class="hdr">
          <strong>Tabela de S√≠mbolos</strong>
          <div style="display:flex;align-items:center;gap:12px">
            <div class="meta">Vari√°veis, fun√ß√µes e classes declaradas</div>
            <button class="toggle" data-target="symbolTableOutput" title="Minimizar/Expandir">‚ñæ</button>
          </div>
        </div>
        <div id="symbolTableOutput" class="output">Tabela de s√≠mbolos n√£o dispon√≠vel.</div>
      </div>

      <div class="panel" style="display:flex;gap:8px;align-items:center;justify-content:space-between">
        <div class="meta">Sugest√µes: integrar com seu backend via POST /interpret</div>
        <button class="btn" id="exportBtn">Copiar tokens</button>
      </div>
    </aside>

    
  </div>

  <!-- Modal para visualiza√ß√£o ampliada da AST -->
  <div id="astModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>üå≥ √Årvore Sint√°tica Abstrata (AST) - Visualiza√ß√£o Completa</h2>
        <div style="display:flex;gap:8px;align-items:center">
          <button class="btn-ast-view-modal" id="astViewToggleModal" title="Alternar visualiza√ß√£o">
            <span class="view-icon">üìä</span>
            <span class="view-label">√Årvore</span>
          </button>
          <button class="modal-close" id="astModalClose" title="Fechar">&times;</button>
        </div>
      </div>
      <div class="modal-body">
        <div id="astModalContent" class="ast-modal-output">AST ainda n√£o gerada.</div>
      </div>
    </div>
  </div>

  <!-- Scripts CodeMirror (devem carregar antes de home.js para inicializar o editor) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/clike/clike.min.js"></script>
  <script src="./ast-tree.js?v=2025.11.01.1732"></script>
  <script src="./websocket-client.js?v=2025.11.01.1732"></script>
  <script src="./home.js?v=2025.11.01.1732"></script>
  
</body>
</html>
